<div class="containter-fluid background">
<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" autocomplete="off">  
    <div class="containter">
      <div class="row align-items-center">
        <div class="col-lg-12">
          <div class="d-flex justify-content-center">
            <h1>Register for our services</h1>
          </div>
        </div>
      </div>
      <div class="row  mb-2">
        <div class="col-lg-12">
          <br />
        </div>
      </div>
      <div class="row  mb-2">
        <div class="col-lg-3">
          <label class="padding" for="username">
            Username:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="username" type="text" formControlName="username">
          <label class="text-danger" *ngIf="registrationForm.get('username').touched && registrationForm.get('username').errors?.required">
            This field is mandatory.
          </label>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="email">
            Email:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="email" type="email" formControlName="email">
          <label class="text-danger" *ngIf="registrationForm.get('email').touched && registrationForm.get('email').errors?.email">
            Invalid email address.
          </label>
        </div>
      </div>
<div formGroupName = "passwords">
      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="password">
            Password:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="password" type="password" formControlName="password">
          <label class="text-danger" *ngIf="registrationForm.get('passwords.password').touched && registrationForm.get('passwords.password').errors?.required">
            This field is mandatory.
          </label>
          <label class="text-danger" *ngIf="registrationForm.get('passwords.password').touched && registrationForm.get('passwords.password').errors?.minlength">
            Password must be over 3 characters.
          </label>
        </div>        
      </div>

      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="passwordRepeat">
            Confirm password:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="passwordRepeat" type="password" formControlName="passwordRepeat">
          <label class="text-danger" *ngIf="registrationForm.get('passwords.passwordRepeat').touched && registrationForm.get('passwords.passwordRepeat').errors?.required">
            This field is mandatory.
          </label>
          <label class="text-danger" *ngIf="registrationForm.hasError('notSame','passwords')">
            Passwords do not match.
          </label>
        </div>
      </div>
</div>
      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="firstName">
            First name:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="firstName" type="text" formControlName="firstName">
          <label class="text-danger" *ngIf="registrationForm.get('firstName').touched && registrationForm.get('firstName').errors?.required">
            This field is mandatory.
          </label>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="lastName">
            Last name:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="lastName" type="text" formControlName="lastName">
          <label class="text-danger" *ngIf="registrationForm.get('lastName').touched && registrationForm.get('lastName').errors?.required">
            This field is mandatory.
          </label>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="dateOfBirth">
            Date of birth:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="dateOfBirth" type="date" formControlName="dateOfBirth">
          <label class="text-danger" *ngIf="registrationForm.get('dateOfBirth').touched && registrationForm.get('dateOfBirth').errors?.required">
            This field is mandatory.
          </label>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="address">
            Address:
          </label>
        </div>
        <div class="col-lg-3">
          <input class="form-control" id="address" type="text" formControlName="address">
          <label class="text-danger" *ngIf="registrationForm.get('address').touched && registrationForm.get('address').errors?.required">
            This field is mandatory.
          </label>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-3">
          <label class="padding" for="type">
            Type of user:
          </label>
        </div>
        <div class="col-lg-3">
          <select>
            <option *ngFor="let userType of userTypes" [value]="userType">{{userType}}</option>
          </select>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-4">
          <label class="padding">
            Upload profile picture:
          </label>
        </div>
        <div class="col-lg-3">
          <input type="file" accept="image/*" (change)="showPreview($event)" id="photo" name="photo"
          [formControlName]="'photo'"/>          
        <div class="imagePreview">
          <img width="150" height="150" [src]="imageURL">
        </div>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-lg-4">
          <div class="d-flex justify-content-center">
            <button class="btn btn-sm-4 btn-primary" type="submit" [disabled] = "!registrationForm.valid">Register</button>
          </div>
        </div>
      </div>
    </div>
</form>
</div>